---
import Layout from '@/layouts/Layout.astro';
// MODIFIÉ : Importation de ton composant Icon
import Icon from '../../components/ui/Icon.astro'; 
import LiquidGlassButton from '../../components/ui/LiquidGlassButton.astro';

const projectData = {
    id: '1',
    slug: 'projet-yumly',
    title: 'Yumly',
    tagline: 'Une plateforme culinaire moderne pour découvrir le monde',
    coverImageUrl: '/imgs/ville.jpg',
    year: 2024,
    tags: ['Identité', 'UX/UI', 'Développement'],
    description: `Construire une plateforme culinaire moderne pour explorer le monde est un défi complexe. Yumly propose une approche holistique qui combine identité visuelle distinctive, conception d'interface intuitive et développement web performant pour offrir une expérience utilisateur exceptionnelle dans l'univers gastronomique.`,
    
    challengeTitle: 'Construire une plateforme culinaire moderne pour explorer le monde.',
    challengeDescription: 'Rendre la diversité culinaire internationale accessible à tous, tout en proposant une expérience digitale intuitive et engageante. Yumly devait permettre aux utilisateurs de découvrir, sauvegarder et partager des recettes ethniques dans un univers visuel moderne et cohérent.',

    approachTitle: 'Une approche globale pour donner vie à une expérience culinaire moderne',
    approachDescription: `Nous avons mené une approche produit complète, centrée sur l’utilisateur et la performance : recherche utilisateur et benchmark, définition de l’identité visuelle, construction d’un design system, prototypage et tests iterratifs, puis intégration front-end. Côté contenu, nous avons structuré des clusters de recettes, optimisé les fiches pour le référencement et mis en place des micro-interactions pour maximiser l’engagement.`,

    actionsTitle: 'Actions & levier de visibilité',
    actionsSubtitle: 'Mix permanent de contenu<br/>et actions de visibilité',
    actionsDescription: `Nous avons combiné production continue de contenu (fiches recettes optimisées) et actions ponctuelles (campagnes sociales, partenariats, micro-PR) pour créer des signaux pertinents autour de la marque et attirer un trafic qualifié.`,

    resultsTitle: 'Impact et performance de la plateforme',
    resultsSubtitle: 'Les résultats',
    resultsIntro: 'Grâce à l’optimisation UX/UI, à la structure technique et à la richesse du contenu, Yumly atteint plusieurs objectifs clés :',
    resultsList: [
        'Interface claire et engageante : parcours intuitif et facile à explorer pour tous les profils d’utilisateurs.',
        'Performance optimisée : temps de chargement rapide et expérience fluide sur desktop et mobile.',
        'Architecture SEO solide : contenu structuré et hiérarchisé pour maximiser la découverte organique.',
        'Parcours utilisateur validé par tests : itérations basées sur retours réels pour assurer une navigation optimale.'
    ],

    highlights: [
        { title: '5000+', description: 'Lignes de code : intégration front & back-end' },
        { title: '800+', description: 'Heures de travail combinées, sur 7 mois' },
        { title: '34', description: 'Pages de maquette prototypées' },
        { title: '80+', description: 'Recettes intégrées avec filtres, favoris...' }
    ],
    mockupImageUrl: '/imgs/mockup-1.png',

    // Données pour la galerie 1
    galleryImages: [
        '/imgs/BLUE.webp', // cityscape
        '/imgs/GREEN.webp', // phone
        '/imgs/ORANGE.webp', // bag
        '/imgs/RED.webp', // market
        '/imgs/ORANGE.webp', // food platter
        '/imgs/RED.webp', // storefront
        '/imgs/BLUE.webp'  // phone mockups
    ],

    // Données pour la galerie 2
    galleryImagesTwo: [
        '/imgs/gallery-8.jpg', // phone login
        '/imgs/gallery-9.jpg', // phone epicerie
        '/imgs/gallery-10.jpg', // phone aliment
        '/imgs/gallery-11.jpg'  // phone footer
    ],

    relatedProjects: [
        { title: 'APG', imageUrl: '/imgs/related-apg.jpg', slug: '/projets/apg' },
        { title: 'Projets 3D', imageUrl: '/imgs/related-donuts.jpg', slug: '/projets/projets-3d' }
    ]
};



const { id } = Astro.params;
---

<Layout title={projectData.title}>
    <section class="w-full bg-white text-black">

        {/* === HERO === */}
        <div class="w-full pt-24 px-6 lg:px-12">
            <div class="relative w-full rounded-3xl overflow-hidden" style="height: 400px;">
                <img 
                    src={projectData.coverImageUrl} 
                    alt={projectData.title}
                    class="w-full h-full object-cover"
                />
                <div class="absolute inset-0 bg-black/20"></div>
                
                <a 
                    href="/#projets"
                    class="absolute top-6 left-6 z-20 inline-flex items-center gap-2 text-white text-sm font-medium"
                > 
                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
                    </svg>
                    Retour aux projets
                </a>
                
                <div class="absolute bottom-6 left-6 z-20">
                    <LiquidGlassButton 
                        title={projectData.title}
                        baseFrequency="0.012 0.025" 
                        scale="25" 
                        blurAmount="2px"
                        bgColor="rgba(255, 255, 255, 0.05)"
                    />
                </div>
                
                {projectData.tagline && (
                    <div class="absolute bottom-6 right-6 z-20 max-w-xs text-right hidden md:block">
                        <p class="text-white font-light text-sm">
                            {projectData.tagline}
                        </p>
                    </div>
                )}
            </div>
        </div>

        {/* === METADATA === */}
        <div class="w-full">
            <div class="px-6 lg:px-12 py-6 flex flex-col md:flex-row justify-between gap-6">
                <div>
                    <p class="text-xs uppercase text-gray-500 font-semibold mb-2">Services</p>
                    <div class="flex items-center gap-1 text-sm">
                        {projectData.tags.map((tag, index) => (
                            <span class="text-black font-medium">
                                {tag}
                                {index < projectData.tags.length - 1 && <span class="mx-1 text-gray-400">·</span>}
                            </span>
                        ))}
                    </div>
                </div>
                <div>
                    <p class="text-xs uppercase text-gray-500 font-semibold mb-2">Année</p>
                    <p class="text-lg font-bold text-black">{projectData.year}</p>
                </div>
            </div>
        </div>

        {/* === DESCRIPTION SECTION === */}
        <div class="w-full py-16 px-8 md:px-16 lg:px-32">
            <div class="max-w-3xl mx-auto">
                <h1 class="text-2xl md:text-3xl lg:text-4xl font-semibold text-black mb-12 tracking-[-0.06em]">
                    {projectData.challengeTitle}
                </h1>

                <div class="flex flex-col md:flex-row gap-4 md:gap-12">
                    <div class="w-full md:w-1/4">
                        <h2 class="text-base font-medium text-black mb-2 md:mb-0 tracking-[-0.06em]">Le défi</h2>
                    </div>
                    <div class="w-full md:w-3/4">
                        <p class="text-sm text-gray-700 leading-relaxed max-w-prose font-light tracking-[-0.06em]">
                            {projectData.challengeDescription}
                        </p>
                    </div>
                </div>
            </div>
        </div>


{/* === HIGHLIGHTS === */}
<div class="w-full px-6 lg:px-12 py-16">
    <div>
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
            {projectData.highlights.map((highlight) => (
                <div class="bg-gray-50 rounded-2xl p-8 lg:p-10 flex flex-col justify-end min-h-auto lg:min-h-40">
                    <p class="text-4xl md:text-5xl lg:text-6xl font-semibold text-black mb-3 tracking-[-0.06em]">{highlight.title}</p>
                    <p class="text-xs text-gray-500 font-medium leading-relaxed">
                        {highlight.description}
                    </p>
                </div>
            ))}
        </div>
    </div>
</div>


        {/* === MOCKUP SECTION === */}
        <div class="w-full px-0 md:px-6 lg:px-12">
            <div class="relative flex items-center justify-center py-24 lg:py-0 lg:min-h-screen">

                <div class="absolute inset-0 items-center justify-center overflow-hidden z-0 rounded-2xl hidden lg:flex">
                    <img
                        src={projectData.mockupImageUrl}
                        alt=""
                        class="w-full h-full object-cover rounded-2xl opacity-80" 
                        style="filter: blur(80px); transform: scale(1.2);" 
                    />
                </div>

                <div class="relative z-10 max-w-7xl w-full px-0 md:px-4">
                    <div class="rounded-2xl overflow-hidden shadow-2xl aspect-video bg-white">
                        <img 
                            src={projectData.mockupImageUrl}
                            alt={`Mockup du projet ${projectData.title}`}
                            class="w-full h-full object-cover"
                        />
                    </div>
                </div>
            </div>
        </div>

        {/* === APPROACH SECTION === */}
        <div class="py-16 px-8 md:px-16 lg:px-32">
            <div class="max-w-3xl mx-auto">
                <h1 class="text-2xl md:text-3xl lg:text-4xl font-semibold text-black mb-12 tracking-[-0.06em]">
                    {projectData.approachTitle}
                </h1>

                <div class="flex flex-col md:flex-row gap-4 md:gap-12 mb-16">
                    <div class="w-full md:w-1/4">
                        <h2 class="text-base font-medium text-black mb-2 md:mb-0 tracking-[-0.06em]">Notre travail</h2>
                    </div>
                    <div class="w-full md:w-3/4">
                        <p class="text-sm text-gray-700 leading-relaxed max-w-prose font-light tracking-[-0.06em]">
                            {projectData.approachDescription}
                        </p>
                    </div>
                </div>

                <div class="flex justify-center">
                    <button class="inline-flex items-center px-8 py-4 rounded-full bg-gray-100 text-black text-sm font-medium tracking-[-0.03em]">
                        Concrètement, ça donne ça
                        
                        <Icon 
                            name="arrow" 
                            class="ml-5 w-3 h-3 -rotate-225" 
                            color="currentColor"
                        />
                    </button>
                </div>
            </div>
        </div>
        {/* === FIN APPROACH SECTION === */}

        {/* === GALLERY SECTION === */}
        <div class="w-full px-6 lg:px-12 py-16">
            <div class="grid grid-cols-1 md:grid-cols-6 gap-4 lg:gap-6">
                
                {/* Ligne 1 */}
                <div class="col-span-1 md:col-span-2 rounded-2xl overflow-hidden aspect-[4/3] bg-gray-100">
                    <img src={projectData.galleryImages[0]} alt="Galerie Yumly 1" class="w-full h-full object-cover"/>
                </div>
                <div class="col-span-1 md:col-span-2 rounded-2xl overflow-hidden aspect-[4/3] bg-gray-100">
                    <img src={projectData.galleryImages[1]} alt="Galerie Yumly 2" class="w-full h-full object-cover"/>
                </div>
                <div class="col-span-1 md:col-span-2 rounded-2xl overflow-hidden aspect-[4/3] bg-gray-100">
                    <img src={projectData.galleryImages[2]} alt="Galerie Yumly 3" class="w-full h-full object-cover"/>
                </div>

                {/* Ligne 2 */}
                <div class="col-span-1 md:col-span-3 rounded-2xl overflow-hidden aspect-[4/3] bg-gray-100">
                    <img src={projectData.galleryImages[3]} alt="Galerie Yumly 4" class="w-full h-full object-cover"/>
                </div>
                <div class="col-span-1 md:col-span-3 rounded-2xl overflow-hidden aspect-[4/3] bg-gray-100">
                    <img src={projectData.galleryImages[4]} alt="Galerie Yumly 5" class="w-full h-full object-cover"/>
                </div>

                {/* Ligne 3 (CORRIGÉE) */}
                <div class="col-span-1 md:col-span-2 rounded-2xl overflow-hidden aspect-[4/3] bg-gray-100">
                    <img src={projectData.galleryImages[5]} alt="Galerie Yumly 6" class="w-full h-full object-cover"/>
                </div>
                <div 
                    class="col-span-1 md:col-span-4 rounded-2xl overflow-hidden bg-gray-100 bg-cover bg-center"
                    style={`background-image: url(${projectData.galleryImages[6]})`}
                >
                    <span class="sr-only">Galerie Yumly 7</span>
                </div>

            </div>
        </div>
        {/* === FIN GALLERY SECTION === */}

        {/* === ACTIONS SECTION === */}
        <div class="py-16 px-8 md:px-16 lg:px-32">
            <div class="max-w-3xl mx-auto">
                <h1 class="text-2xl md:text-3xl lg:text-4xl font-semibold text-black mb-12 tracking-[-0.06em]">
                    {projectData.actionsTitle}
                </h1>

                <div class="flex flex-col md:flex-row gap-4 md:gap-12">
                    <div class="w-full md:w-1/4">
                        <h2 class="text-base font-medium text-black mb-2 md:mb-0 tracking-[-0.06em]" set:html={projectData.actionsSubtitle} />
                    </div>
                    <div class="w-full md:w-3/4">
                        <p class="text-sm text-gray-700 leading-relaxed max-w-prose font-light tracking-[-0.06em]">
                            {projectData.actionsDescription}
                        </p>
                    </div>
                </div>
            </div>
        </div>
        {/* === FIN ACTIONS SECTION === */}

        {/* === GALLERY SECTION TWO === */}
        <div class="w-full px-6 lg:px-12 py-16">
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4 lg:gap-6">
                
                <div class="col-span-1 rounded-2xl overflow-hidden aspect-[4/3] bg-gray-100">
                    <img src={projectData.galleryImagesTwo[0]} alt="Galerie Yumly 8" class="w-full h-full object-cover"/>
                </div>
                <div class="col-span-1 rounded-2xl overflow-hidden aspect-[4/3] bg-gray-100">
                    <img src={projectData.galleryImagesTwo[1]} alt="Galerie Yumly 9" class="w-full h-full object-cover"/>
                </div>
                <div class="col-span-1 rounded-2xl overflow-hidden aspect-[4/3] bg-gray-100">
                    <img src={projectData.galleryImagesTwo[2]} alt="Galerie Yumly 10" class="w-full h-full object-cover"/>
                </div>
                <div class="col-span-1 rounded-2xl overflow-hidden aspect-[4/3] bg-gray-100">
                    <img src={projectData.galleryImagesTwo[3]} alt="Galerie Yumly 11" class="w-full h-full object-cover"/>
                </div>

            </div>
        </div>
        {/* === FIN GALLERY SECTION TWO === */}

        {/* === RESULTS SECTION === */}
        <div class="py-16 px-8 md:px-16 lg:px-32">
            <div class="max-w-3xl mx-auto">
                <h1 class="text-2xl md:text-3xl lg:text-4xl font-semibold text-black mb-12 tracking-[-0.06em]">
                    {projectData.resultsTitle}
                </h1>

                <div class="flex flex-col md:flex-row gap-4 md:gap-12">
                    <div class="w-full md:w-1/4">
                        <h2 class="text-base font-medium text-black mb-2 md:mb-0 tracking-[-0.06em]">
                            {projectData.resultsSubtitle}
                        </h2>
                    </div>
                    <div class="w-full md:w-3/4">
                        <p class="text-sm text-gray-700 leading-relaxed max-w-prose font-light tracking-[-0.06em] mb-4">
                            {projectData.resultsIntro}
                        </p>
                        <ul class="list-disc list-outside space-y-2 pl-4">
                            {projectData.resultsList.map(item => (
                                <li class="text-sm text-gray-700 leading-relaxed max-w-prose font-light tracking-[-0.06em]">
                                    {item}
                                </li>
                            ))}
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        {/* === FIN RESULTS SECTION === */}

        {/* === RELATED PROJECTS SECTION === */}
        <div class="w-full px-6 lg:px-12 py-24">
            <div class="flex justify-between items-center">
                <h2 class="text-2xl md:text-3xl lg:text-4xl font-semibold text-black tracking-[-0.06em]">
                    Vous pourriez aussi aimer
                </h2>
                {/* MODIFIÉ ICI : 'text-sm' -> 'text-xs' ET 'px-6 py-3' -> 'px-4 py-2' */}
                <a href="/#projets" class="inline-flex items-center px-4 py-2 rounded-full bg-gray-50 text-black text-xs font-medium tracking-[-0.03em]">
                    Voir tous les travaux
                    <Icon 
                        name="arrow" 
                        class="ml-2 w-3 h-3 rotate-45" 
                        color="currentColor"
                    />
                </a>
            </div>

            <div class="my-8 border-t border-gray-200"></div> 

            <div class="grid grid-cols-1 md:grid-cols-2 gap-4 lg:gap-6">
                {projectData.relatedProjects.map(project => (
                    <a href={project.slug} class="relative rounded-3xl overflow-hidden aspect-video group">
                        <img src={project.imageUrl} alt={project.title} class="w-full h-full object-cover transition-transform duration-300 group-hover:scale-105" />
                        <div class="absolute inset-0 bg-black/10"></div>
                        <div class="absolute bottom-6 left-6 z-10">
                            <h3 class="text-white font-semibold text-xl">{project.title}</h3>
                        </div>
                    </a>
                ))}
            </div>
        </div>
        {/* === FIN RELATED PROJECTS SECTION === */}

    </section>
</Layout>